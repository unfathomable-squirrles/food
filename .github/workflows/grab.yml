name: get data from the api
run-name: getting data from API
on:
  workflow_dispatch:
  schedule:
  - cron: "0 * * * *"
jobs:
  deployment:
    runs-on: ubuntu-latest
    steps:
    - name: Get current date
      id: date
      run: echo "now=$(date +'%Y-%m-%d')" >> $GITHUB_OUTPUT
      #run: echo "::set-output name=date::$(date +'%Y-%m-%d')"
    - name: HTTP Request Action
      uses: fjogeleit/http-request-action@v1.14.1
      with:
       # Request URL
         url: 'https://api.dineoncampus.com/v1/location/64b9990ec625af0685fb939d/periods/64f52d80c625af0b34b85fbf?platform=0&date=${{ steps.date.outputs.now }}'
         #url: 'https://api.dineoncampus.com/v1/location/64b9990ec625af0685fb939d/periods/64f52d80c625af0b34b85fbf'
       # Request Method
         method: GET
       # Persist the response data to the specified file path
         responseFile: 'response.json'
    - name: verify file is made
      run: ls
